---
interface Props {
  cityName: string;
  country: string;
  tagline?: string;
  description: string;
  postCount: number;
  categoryCount: number;
  heroImages?: [string, string];
  fallbackImage?: string;
}

const { cityName, country, tagline, description, postCount, categoryCount, heroImages, fallbackImage } = Astro.props;

const img1 = heroImages?.[0] || fallbackImage || 'https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=800&h=600&fit=crop&q=80';
const img2 = heroImages?.[1] || fallbackImage || 'https://images.unsplash.com/photo-1518684079-3c830dcef090?w=800&h=600&fit=crop&q=80';
const citySlug = cityName.toLowerCase().replace(/\s+/g, '-');
---

<section class="py-8 sm:py-12">
  <div class="container-wide">
    <div class="grid lg:grid-cols-2 gap-6 lg:gap-12 items-center">
      <!-- Text Column -->
      <div class="order-2 lg:order-1">
        {tagline && (
          <p class="text-orange-500 text-xs sm:text-sm font-medium mb-2">{tagline}</p>
        )}
        <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-4 leading-tight">
          The Ultimate<br />{cityName} Travel Guide
        </h1>
        <p class="text-gray-500 mb-6 leading-relaxed text-sm sm:text-base">
          {description}
        </p>
        <div class="flex flex-wrap items-center gap-3 mb-6">
          <a href={`/blog?city=${encodeURIComponent(cityName)}`} class="btn-primary gap-2">
            Explore Articles
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
          </a>
          <a href="#itineraries" class="btn-outline gap-2">
            View Itineraries
          </a>
        </div>
        <div class="flex items-center gap-4 text-sm text-gray-400">
          <span class="flex items-center gap-1.5">
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" />
            </svg>
            {postCount} Expert Articles
          </span>
          <span class="text-gray-300">|</span>
          <span>{categoryCount} Categories</span>
          <span class="text-gray-300">|</span>
          <span>{country}</span>
        </div>
      </div>

      <!-- Image Column -->
      <div class="relative order-1 lg:order-2">
        <div class="grid grid-cols-2 gap-3 sm:gap-4">
          <img
            src={img1}
            alt={`${cityName} skyline`}
            class="rounded-2xl w-full h-36 sm:h-48 lg:h-56 object-cover"
            loading="eager"
          />
          <img
            src={img2}
            alt={`${cityName} landmark`}
            class="rounded-2xl w-full h-36 sm:h-48 lg:h-56 object-cover mt-4 sm:mt-8"
            loading="eager"
          />
        </div>
        <!-- Floating info card -->
        <div class="absolute -bottom-3 sm:-bottom-5 left-0 sm:-left-4 bg-white p-3 sm:p-4 rounded-xl shadow-lg max-w-[200px] sm:max-w-none z-10">
          <p class="text-xs sm:text-sm text-gray-500 mb-1">Everything you need to know about</p>
          <p class="font-semibold text-gray-900 text-sm sm:text-base">{cityName}, {country}</p>
          <a href={`#explore`} class="text-orange-500 text-xs sm:text-sm mt-1 inline-block hover:underline">
            Start exploring â†’
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
