---
import type { Activity } from '../../utils/city-guide-data';

interface Props {
  label: string;
  heading: string;
  description: string;
  viewAllUrl: string;
  items: Activity[];
  cityName: string;
}

const { label, heading, description, viewAllUrl, items, cityName } = Astro.props;
---

<section class="py-8 sm:py-12 bg-white">
  <div class="container-wide">
    <p class="text-orange-500 text-xs sm:text-sm font-semibold uppercase tracking-wider mb-2">{label}</p>
    <h2 class="text-xl sm:text-2xl font-bold text-gray-900 guide-section-header">{heading}</h2>
    <p class="text-gray-500 mb-6 sm:mb-8 text-sm sm:text-base">{description}</p>

    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
      {items.map((item) => (
        <a
          href={item.url}
          target="_blank"
          rel="noopener noreferrer sponsored"
          class="group block bg-white rounded-xl border border-gray-100 overflow-hidden hover:border-gray-200 hover:shadow-md transition-all duration-200"
        >
          <div class="aspect-[4/3] overflow-hidden bg-gray-100">
            <img
              src={item.image}
              alt={item.name}
              class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
              loading="lazy"
              onerror="this.onerror=null;this.src='https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&q=70';"
            />
          </div>
          <div class="p-3 sm:p-4">
            <h3 class="font-bold text-gray-900 text-sm sm:text-base mb-1">{item.name}</h3>
            <p class="text-gray-500 text-xs sm:text-sm mb-2 line-clamp-2">{item.description}</p>
            <p class="text-orange-500 font-semibold text-sm">{item.price}</p>
          </div>
        </a>
      ))}
    </div>

    <div class="flex justify-center mt-8">
      <a
        href={viewAllUrl}
        target="_blank"
        rel="noopener noreferrer sponsored"
        class="inline-flex items-center gap-2 bg-orange-500 hover:bg-orange-600 text-white font-semibold px-6 py-3 rounded-full transition-colors text-sm"
      >
        View All Activities
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
        </svg>
      </a>
    </div>
  </div>
</section>
